<div style="text-align: center; margin-top: 50px;">
  <h1>LINE認証テスト</h1>

  <% if user_signed_in? %>
    <p>ようこそ <strong><%= current_user.name %></strong> さん！</p>
    <% if current_user.image.present? %>
      <p><%= image_tag current_user.image, size: "100x100", style: "border-radius: 50%;" %></p>
    <% end %>
    <p>UID: <%= current_user.uid %></p>
    
    <div style="margin-top: 20px;">
      <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, style: "color: red;" %>
    </div>

  <% else %>
    <p>ログインしていません</p>
    <div style="margin-top: 20px;">
      <%# data: { turbo: false } は外部サイト遷移に必須 %>
      <%= button_to user_line_omniauth_authorize_path, 
               method: :post, 
               data: { turbo: false }, 
               style: "background-color: #06C755; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold;" do %>
  LINEでログイン
<% end %>
    </div>
  <% end %>
</div>